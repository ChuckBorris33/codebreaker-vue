(function(e){function t(t){for(var a,r,c=t[0],u=t[1],o=t[2],d=0,p=[];d<c.length;d++)r=c[d],s[r]&&p.push(s[r][0]),s[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,o||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var u=n[c];0!==s[u]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"116a":function(e,t,n){"use strict";var a=n("bc3b"),s=n.n(a);s.a},2364:function(e,t,n){"use strict";var a=n("23a3"),s=n.n(a);s.a},"23a3":function(e,t,n){},"2a66":function(e,t,n){"use strict";var a=n("80ce"),s=n.n(a);s.a},"347b":function(e,t,n){},"404e":function(e,t,n){},"4bf6":function(e,t,n){"use strict";var a=n("5101"),s=n.n(a);s.a},"4e5e":function(e,t,n){"use strict";var a=n("f7e8"),s=n.n(a);s.a},5101:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d"),n("3fc5");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Game")],1)},i=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"game",staticClass:"Game"},[n("DragShadow"),n("GameHeader"),n(e.mainComponent,{tag:"Component"})],1)},c=[],u=n("cebc"),o=n("2f62"),l={EXACT_MATCH:"EXACT_MATCH",COLOR_MATCH:"COLOR_MATCH",NO_MATCH:"NO_MATCH"},d={SETTINGS:"SETTINGS",GAME:"GAME",WON:"WON",LOST:"LOST",HELP:"HELP"},p=[{id:0,type:"PIN1"},{id:1,type:"PIN2"},{id:2,type:"PIN3"},{id:3,type:"PIN4"},{id:4,type:"PIN5"},{id:5,type:"PIN6"}];function f(e){var t=[].concat(p),n=[];e.canBeEmpty&&t.push(void 0);for(var a=0;a<4;a++){var s=Math.floor(Math.random()*t.length);n[a]=t[s],e.canRepeat||t.splice(s,1)}return n}function m(e,t){for(var n=t.map(function(e){return e?e.id:void 0}),a=e.map(function(e){return e?e.id:void 0}),s=[l.NO_MATCH,l.NO_MATCH,l.NO_MATCH,l.NO_MATCH],i=e.length,r=function(e){var t=a[e];if(a[e]===n[e])n[e]=-1,s[e]=l.EXACT_MATCH;else if(n.some(function(e){return e===t})){var i=n.indexOf(t);n[i]=-1,s[i]=l.COLOR_MATCH}},c=0;c<i;c++)r(c);return g(s),s}function v(e,t){var n=t.every(function(e){return e===l.EXACT_MATCH});return n?d.WON:e>=5?d.LOST:d.GAME}function g(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}}var b,h,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GameSettings"},[n("div",{staticClass:"GameSettings-checkbox"},[n("BaseCheckbox",{staticClass:"u-pb1",attrs:{id:"canRepeat",type:"checkbox",label:"Allow repeating pins"},model:{value:e.canRepeat,callback:function(t){e.canRepeat=t},expression:"canRepeat"}}),n("BaseCheckbox",{attrs:{id:"canRepeat",type:"checkbox",label:"Allow empty pins"},model:{value:e.canBeEmpty,callback:function(t){e.canBeEmpty=t},expression:"canBeEmpty"}})],1),n("BaseButton",{attrs:{label:"Start Game"},on:{click:function(t){return e.startGame({canRepeat:e.canRepeat,canBeEmpty:e.canBeEmpty})}}})],1)},O=[],G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"BaseButton",on:{click:function(t){return e.$emit("click")}}},[e._v("\n  "+e._s(e.label)+"\n")])},_=[],S={name:"BaseButton",props:{label:{type:String,required:!0}}},P=S,T=(n("885a"),n("2877")),E=Object(T["a"])(P,G,_,!1,null,null,null),y=E.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BaseCheckbox"},[n("span",{staticClass:"BaseCheckbox-tick",class:{"BaseCheckbox-tick--active":e.value},on:{click:e.toggleValue}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{id:e.id,type:"hidden"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})]),n("label",[e._v(e._s(e.label))])])},k=[],B={name:"BaseCheckbox",props:{id:{type:String,required:!0},label:{type:String,required:!0},checked:{type:Boolean,default:!1}},data:function(){return{value:this.checked}},watch:{value:function(e,t){this.$emit("input",e)}},methods:{toggleValue:function(){this.value=!this.value}}},w=B,x=(n("2a66"),Object(T["a"])(w,j,k,!1,null,null,null)),A=x.exports,M={name:"GameSettings",components:{BaseButton:y,BaseCheckbox:A},data:function(){return{canRepeat:!1,canBeEmpty:!1}},methods:Object(u["a"])({},Object(o["c"])(["startGame"]))},H=M,R=(n("eaec"),Object(T["a"])(H,C,O,!1,null,null,null)),N=R.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GameHeader"},[n("span",{staticClass:"BackButton",class:{"u-hidden":!e.showBackButton},on:{click:e.backClicked}},[e._v("\n    <---\n  ")]),n("h1",{staticClass:"GameTitle"},[e._v("\n    codeBreaker_>\n  ")]),n("span",{staticClass:"HelpButton",class:{"u-hidden":!e.showHelpButton},on:{click:e.helpClicked}},[e._v("\n    ?\n  ")])])},L=[],$={name:"GameHeader",computed:Object(u["a"])({},Object(o["d"])(["gameState"]),{showBackButton:function(){return this.gameState!==d.SETTINGS},showHelpButton:function(){return this.gameState===d.GAME}}),methods:Object(u["a"])({},Object(o["c"])(["setGameState"]),{backClicked:function(){this.gameState===d.HELP?this.setGameState({gameState:d.GAME}):this.setGameState({gameState:d.SETTINGS})},helpClicked:function(){this.setGameState({gameState:d.HELP})}})},D=$,q=(n("8be7"),Object(T["a"])(D,I,L,!1,null,null,null)),z=q.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GameBoard"},[n("GuessList"),n("CurrentGuess"),n("PinOptions")],1)},W=[],V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TransitionGroup",{staticClass:"GuessList",attrs:{tag:"div",name:"guesses"}},e._l(e.guesses,function(t){return n("div",{key:t.id,staticClass:"GuessRow"},[e._l(t.guess,function(e,t){return n("SimplePin",{key:t,staticClass:"GuessRow-guessPin",attrs:{pin:e}})}),n("div",{staticClass:"GuessRow-result"},e._l(t.result,function(e,t){return n("ResultPin",{key:t,attrs:{result:e}})}),1)],2)}),0)},F=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Pin",class:[e.sizeClass,e.colorClass]})},U=[],Y={name:"SimplePin",props:{pin:{type:Object,required:!1,default:void 0}},data:function(){return{sizeClass:""}},computed:{colorClass:function(){return this.pin?"Pin--".concat(this.pin.type):"Pin--empty"}}},K=Y,Q=(n("adc8"),Object(T["a"])(K,J,U,!1,null,null,null)),Z=Q.exports,ee=n("bd86"),te={name:"ResultPin",extends:Z,props:{result:{type:String,required:!0}},data:function(){return{sizeClass:"Pin--small"}},computed:{colorClass:function(){var e;return(e={},Object(ee["a"])(e,l.NO_MATCH,"Pin--empty"),Object(ee["a"])(e,l.EXACT_MATCH,"Pin--exactMatch"),Object(ee["a"])(e,l.COLOR_MATCH,"Pin--colorMatch"),e)[this.result]}}},ne=te,ae=(n("d67f"),Object(T["a"])(ne,b,h,!1,null,null,null)),se=ae.exports,ie={name:"GuessList",components:{SimplePin:Z,ResultPin:se},computed:Object(u["a"])({},Object(o["d"])(["guesses"]))},re=ie,ce=(n("116a"),Object(T["a"])(re,V,F,!1,null,null,null)),ue=ce.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"CurrentGuess"},[e._l(e.currentGuess,function(e,t){return n("GuessPin",{key:t,attrs:{id:t,pin:e}})}),n("div",{staticClass:"CurrentGuess-testButton"},[n("BaseButton",{attrs:{label:"Test"},on:{click:e.testCode}})],1)],2)},le=[],de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["Pin",e.colorClass,"Pin--dragable"],attrs:{draggable:"true"},on:{dragstart:function(t){return e.dragPin({pin:e.pin,dragType:"guess",event:t,guessId:e.id})},dragover:function(e){e.preventDefault()},drop:function(t){return t.preventDefault(),e.dropPin({guessId:e.id,targetType:"guess"})},dragend:e.dragEnd}})},pe=[],fe=(n("c5f6"),{name:"GuessPin",extends:Z,props:{id:{type:Number,required:!0}},methods:Object(u["a"])({},Object(o["c"])(["dragEnd"]),Object(o["b"])(["dropPin","dragPin"]))}),me=fe,ve=Object(T["a"])(me,de,pe,!1,null,null,null),ge=ve.exports,be={name:"CurrentGuess",components:{BaseButton:y,GuessPin:ge},computed:Object(u["a"])({},Object(o["d"])(["currentGuess"])),methods:Object(u["a"])({},Object(o["b"])(["testCode"]))},he=be,Ce=(n("2364"),Object(T["a"])(he,oe,le,!1,null,null,null)),Oe=Ce.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PinOptions"},e._l(e.pins,function(e,t){return n("OptionPin",{key:t,attrs:{id:t,pin:e}})}),1)},_e=[],Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["Pin",e.colorClass,"Pin--dragable"],attrs:{draggable:"true"},on:{dragstart:function(t){return e.dragPin({pin:e.pin,dragType:"options",event:t})},dragend:e.dragEnd}})},Pe=[],Te={name:"OptionPin",extends:Z,props:{id:{type:Number,required:!0}},methods:Object(u["a"])({},Object(o["c"])(["dragEnd"]),Object(o["b"])(["dragPin"]))},Ee=Te,ye=Object(T["a"])(Ee,Se,Pe,!1,null,null,null),je=ye.exports,ke={name:"PinOptions",components:{OptionPin:je},data:function(){return{pins:p}}},Be=ke,we=(n("4bf6"),Object(T["a"])(Be,Ge,_e,!1,null,null,null)),xe=we.exports,Ae={name:"GameBoard",components:{GuessList:ue,CurrentGuess:Oe,PinOptions:xe}},Me=Ae,He=(n("950e"),Object(T["a"])(Me,X,W,!1,null,null,null)),Re=He.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GameEnd"},[n("div",{staticClass:"GameEnd-resultText"},[e._v("\n    "+e._s(e.resultText)+"\n  ")]),n("div",{staticClass:"GameEnd-resultCode"},[e.isGameLost?[n("p",[e._v("Last guess")]),n("div",{staticClass:"GameEnd-code"},e._l(e.currentGuess,function(e,t){return n("SimplePin",{key:t,attrs:{pin:e}})}),1)]:e._e(),n("p",[e._v("Code is")]),n("div",{staticClass:"GameEnd-code"},e._l(e.code,function(e,t){return n("SimplePin",{key:t,attrs:{pin:e}})}),1),n("BaseButton",{staticClass:"GameEnd-backButton",attrs:{label:"Back"},on:{click:function(t){return e.backToSettings()}}})],2)])},Ie=[],Le={name:"GameEnd",components:{SimplePin:Z,BaseButton:y},computed:Object(u["a"])({},Object(o["d"])(["gameState","code","currentGuess"]),{resultText:function(){return this.isGameLost?"GAME OVER":"YOU WON"},isGameLost:function(){return this.gameState===d.LOST}}),methods:Object(u["a"])({},Object(o["c"])(["setGameState"]),{backToSettings:function(){this.setGameState({gameState:d.SETTINGS})}})},$e=Le,De=(n("4e5e"),Object(T["a"])($e,Ne,Ie,!1,null,null,null)),qe=De.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GameHelp"},[n("p",{staticClass:"u-nomargin"},[e._v("\n    Try to guess right pin combination\n  ")]),n("ol",[n("li",[e._v("\n      Drag pins\n      "),n("SimplePin",{staticClass:"u-inline Pin--fontSize",attrs:{pin:e.pins[0]}}),e._v("\n      and drop them in slots\n      "),n("SimplePin",{staticClass:"u-inline Pin--fontSize",attrs:{pin:null}})],1),n("li",[e._v("\n      Click on Test button\n      "),n("BaseButton",{staticClass:"u-cursorNormal u-inline",attrs:{label:"Test"}})],1),n("li",[e._v("\n      Result will show up.\n    ")])]),n("div",{staticClass:"GuessRow HelpGuessRow"},[e._l(e.exampleGuess,function(e,t){return n("SimplePin",{key:t,staticClass:"GuessRow-guessPin",attrs:{pin:e}})}),n("div",{staticClass:"GuessRow-result"},e._l(e.exampleResult,function(e,t){return n("ResultPin",{key:t,attrs:{result:e}})}),1)],2),n("p",[e._v("\n    White pin\n    "),n("ResultPin",{staticClass:"u-inline Pin--fontSize",attrs:{result:e.ResultType.COLOR_MATCH}}),e._v("\n    means right color but wrong placement.\n  ")],1),n("p",[e._v("\n    Black pin\n    "),n("ResultPin",{staticClass:"u-inline Pin--fontSize",attrs:{result:e.ResultType.EXACT_MATCH}}),e._v("\n    means right color and right placement.\n  ")],1),n("p",[e._v("Result pins are scrambled")])])},Xe=[],We={name:"GameHelp",components:{SimplePin:Z,ResultPin:se,BaseButton:y},data:function(){return{pins:p,ResultType:l,exampleResult:[l.NO_MATCH,l.EXACT_MATCH,l.NO_MATCH,l.COLOR_MATCH]}},computed:{exampleGuess:function(){return p.slice(0,4)}}},Ve=We,Fe=(n("afd1"),Object(T["a"])(Ve,ze,Xe,!1,null,null,null)),Je=Fe.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"dragShadow",attrs:{id:"DragShadow"}},[e.dragData?n("SimplePin",{attrs:{pin:e.dragData.pin}}):e._e()],1)},Ye=[],Ke={name:"DragShadow",components:{SimplePin:Z},computed:Object(u["a"])({},Object(o["d"])(["dragData"])),watch:{dragData:function(e){if(e){var t=this.$refs.dragShadow;e.event.dataTransfer.setDragImage(t,10,10)}}}},Qe=Ke,Ze=(n("b855"),Object(T["a"])(Qe,Ue,Ye,!1,null,null,null)),et=Ze.exports,tt={name:"Game",components:{GameSettings:N,GameHeader:z,GameBoard:Re,GameEnd:qe,GameHelp:Je,DragShadow:et},computed:Object(u["a"])({},Object(o["d"])(["gameState"]),{mainComponent:function(){switch(this.gameState){case d.GAME:return Re;case d.SETTINGS:return N;case d.HELP:return Je;case d.LOST:case d.WON:return qe}}}),mounted:function(){var e=this;screen.orientation.lock("landscape"),this.$refs.game.style="max-width: ".concat(.5625*window.innerHeight,"px"),window.addEventListener("resize",function(){e.$refs.game.style="max-width: ".concat(.5625*window.innerHeight,"px")})}},nt=tt,at=(n("bb9a"),Object(T["a"])(nt,r,c,!1,null,null,null)),st=at.exports,it={name:"App",components:{Game:st}},rt=it,ct=(n("5c0b"),Object(T["a"])(rt,s,i,!1,null,null,null)),ut=ct.exports,ot=n("75fc"),lt=n("c64e"),dt=n.n(lt),pt={startGame:function(e,t){var n=f({canRepeat:t.canRepeat,canBeEmpty:t.canBeEmpty});e.gameState=d.GAME,e.code=n,e.guesses=[],e.currentGuess=[void 0,void 0,void 0,void 0]},guessPin:function(e,t){a["a"].set(e.currentGuess,t.guessId,t.pin)},removePin:function(e,t){a["a"].set(e.currentGuess,t.guessId,void 0)},addGuess:function(e,t){e.guesses=[].concat(Object(ot["a"])(e.guesses),[{guess:e.currentGuess,result:t.result,id:dt()()}]),e.currentGuess=[void 0,void 0,void 0,void 0]},setGameState:function(e,t){e.gameState=t.gameState},dragStart:function(e,t){e.dragData=t},dragEnd:function(e){e.dragData=void 0}},ft=pt,mt={testCode:function(e){var t=e.commit,n=e.state,a=m(n.currentGuess,n.code),s=v(n.guesses.length,a);s===d.GAME?t("addGuess",{result:a}):s!==n.gameState&&t("setGameState",{gameState:s})},dropPin:function(e,t){var n=e.commit,a=e.state;if("guess"===a.dragData.dragType){var s=a.currentGuess[t.guessId];n("guessPin",{pin:s,guessId:a.dragData.guessId})}n("guessPin",{pin:a.dragData.pin,guessId:t.guessId})},dragPin:function(e,t){var n=e.commit;e.state;"guess"===t.dragType&&n("removePin",{guessId:t.guessId}),n("dragStart",t)}},vt=mt;a["a"].use(o["a"]);var gt=!1,bt=new o["a"].Store({state:{gameState:d.SETTINGS,code:[],guesses:[],currentGuess:[void 0,void 0,void 0,void 0],dragData:void 0},mutations:ft,actions:vt,strict:gt}),ht=n("9483");Object(ht["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),a["a"].config.productionTip=!1,new a["a"]({store:bt,render:function(e){return e(ut)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("8fba"),s=n.n(a);s.a},"80ce":function(e,t,n){},"853b":function(e,t,n){},"885a":function(e,t,n){"use strict";var a=n("347b"),s=n.n(a);s.a},"8be7":function(e,t,n){"use strict";var a=n("ddd0"),s=n.n(a);s.a},"8c4f":function(e,t,n){},"8eb7":function(e,t,n){},"8fba":function(e,t,n){},"950e":function(e,t,n){"use strict";var a=n("8c4f"),s=n.n(a);s.a},adc8:function(e,t,n){"use strict";var a=n("ed40"),s=n.n(a);s.a},afd1:function(e,t,n){"use strict";var a=n("404e"),s=n.n(a);s.a},b855:function(e,t,n){"use strict";var a=n("e876"),s=n.n(a);s.a},bb9a:function(e,t,n){"use strict";var a=n("8eb7"),s=n.n(a);s.a},bc3b:function(e,t,n){},d67f:function(e,t,n){"use strict";var a=n("f064"),s=n.n(a);s.a},ddd0:function(e,t,n){},e876:function(e,t,n){},eaec:function(e,t,n){"use strict";var a=n("853b"),s=n.n(a);s.a},ed40:function(e,t,n){},f064:function(e,t,n){},f7e8:function(e,t,n){}});
//# sourceMappingURL=app.2f985054.js.map